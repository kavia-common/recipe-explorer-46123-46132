{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines the FavoritesScreen widget for a Flutter application. It displays a list of user's favorite recipes, resolves their details through a repository, supports pull-to-refresh, and allows unfavoriting recipes. It includes UI components for loading, error, and empty states, and handles navigation to recipe details.", "external_files": ["package:flutter/material.dart", "package:provider/provider.dart", "package:recipe_app_frontend/navigation/app_router.dart", "package:recipe_app_frontend/repositories/repositories.dart", "package:recipe_app_frontend/state/state.dart", "package:recipe_app_frontend/theme/app_theme.dart", "package:recipe_app_frontend/widgets/recipe_card.dart"], "external_methods": ["context.read<FavoritesProvider>()", "Theme.of(context).colorScheme", "Navigator.of(context).pushNamed", "AppTheme.backgroundGradient"], "published": ["FavoritesScreen"], "classes": [{"name": "FavoritesScreen", "description": "A StatefulWidget that shows the user's favorite recipes in a responsive grid. Manages loading, error, and empty states, and allows unfavoriting and navigation to recipe details."}, {"name": "_FavoritesGrid", "description": "A stateless widget that builds a responsive grid of recipe cards with overlay buttons for unfavoriting."}, {"name": "_EmptyState", "description": "A stateless widget displaying a message when there are no favorite recipes."}, {"name": "_ErrorState", "description": "A stateless widget displaying an error message and retry button."}], "methods": [{"name": "FavoritesScreen.createState", "description": "Creates the mutable state for the FavoritesScreen widget."}, {"name": "_FavoritesScreenState.initState", "description": "Initializes state, defers loading favorites to next frame."}, {"name": "_FavoritesScreenState._loadFavorites", "description": "Loads favorite recipes by resolving favorite IDs into Recipe objects via repository."}, {"name": "_FavoritesScreenState._refresh", "description": "Refreshes favorite list from persistent store and reloads recipes."}, {"name": "_FavoritesScreenState._toggleFavorite", "description": "Unfavorites a recipe and updates the local list."}, {"name": "_FavoritesScreenState.build", "description": "Builds the widget tree, showing loading, error, empty, or grid of recipes."}, {"name": "_FavoritesGrid._crossAxisCountForWidth", "description": "Determines number of grid columns based on available width."}, {"name": "_FavoritesGrid._childAspectRatioForWidth", "description": "Determines grid aspect ratio based on width."}, {"name": "_FavoritesGrid.build", "description": "Builds a responsive grid of recipe cards with overlay unfavorite button."}, {"name": "_EmptyState.build", "description": "Builds a widget indicating no favorites are saved."}, {"name": "_ErrorState.build", "description": "Builds a widget displaying an error message with retry button."}], "calls": ["context.read<FavoritesProvider>()", "RecipeRepository.getById", "Theme.of(context).colorScheme", "Navigator.of(context).pushNamed", "AppRouter.detail", "WidgetsBinding.instance.addPostFrameCallback", "setState", "loadFromStore", "toggleFavorite"], "search-terms": ["FavoritesScreen", "RecipeRepository", "FavoritesProvider", "favorite recipes", "recipe grid", "pull to refresh", "unfavorite", "recipe detail navigation"], "state": 2, "file_id": 37, "knowledge_revision": 129, "git_revision": "", "revision_history": [{"125": ""}, {"129": ""}], "hash": "41506f803a6dcba95794387f63d61931", "format-version": 4, "code-base-name": "recipe_app_frontend", "filename": "recipe_app_frontend/lib/screens/favorites/favorites_screen.dart"}